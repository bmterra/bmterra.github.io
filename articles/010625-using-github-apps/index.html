<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Still Using PATs in 2025? Time to move to Github Apps | Bruno Terra</title><link rel=stylesheet href=/css/bulma.min.min.b94c21aa7a16375f02599e42166b06fa8130542bbf3e6eb9edf6db5a7afeb81e.css integrity="sha256-uUwhqnoWN18CWZ5CFmsG+oEwVCu/Pm657fbbWnr+uB4=" crossorigin=anonymous><link rel=stylesheet href=/css/custom.min.e242cc080afc4cb51d8e8d52c8e89e1a9d18dcb1d77ccd37c934504404828718.css integrity="sha256-4kLMCAr8TLUdjo1SyOieGp0Y3LHXfM03yTRQRASChxg=" crossorigin=anonymous><script src=/js/fontawesome-6.7.2-all.18b98204fb0d34e1dd47d32538ed0da505f56a7cb6873390f0cbe95197009b34.js integrity="sha256-GLmCBPsNNOHdR9MlOO0NpQX1any2hzOQ8MvpUZcAmzQ=" crossorigin=anonymous></script><script src=/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><script src=/js/nav_menu.b84697a3bcfd899e9eca1d28f9d78ed717caf88b38e749b1b4c9c9ac591fc0aa.js integrity="sha256-uEaXo7z9iZ6eyh0o+deO1xfK+Is450mxtMnJrFkfwKo=" crossorigin=anonymous></script><script src=/js/theme_toggle.e474edddeef001dcc179298fab5a0b9e5e1806535a9b5c8b1db521a799171f85.js integrity="sha256-5HTt3e7wAdzBeSmPq1oLnl4YBlNam1yLHbUhp5kXH4U=" crossorigin=anonymous></script></head><body><header><nav class=navbar aria-label="main navigation"><div class=navbar-brand><a class=navbar-item href=https://bmterra.eu/><img alt=avatar src=https://bmterra.eu/img/19397788.jpeg>
</a><a role=button class=navbar-burger aria-label=menu aria-expanded=false data-target=navMenu><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a></div><div class=navbar-menu id=navMenu><div class=navbar-item><a class=button href=/><span class=icon-text><span class=icon><i class="fas fa-home"></i></span>
<span>Home</span></span></a></div><div class=navbar-item><a class=button href=/articles/><span class=icon-text><span class=icon><i class="fas fa-newspaper"></i></span>
<span>Articles</span></span></a></div><div class=navbar-item><a class=button href=/projects/><span class=icon-text><span class=icon><i class="fas fa-gear"></i></span>
<span>Projects</span></span></a></div><div class=navbar-item><a class=button href=/notes/><span class=icon-text><span class=icon><i class="fas fa-file-text"></i></span>
<span>notes</span></span></a></div></div><div class=navbar-end><div class=navbar-item><a id=theme-toggle class="button is-light"><span class=icon><i class="fas fa-sun"></i></span></a></div></div></nav></header><main><section class=section><div class="container is-max-desktop"><figure class=image><img alt="splash image" src=/articles/010625-using-github-apps/github-action.png></figure></div></section><section class=section><div class="container is-max-desktop"><h1 class=title>Still Using PATs in 2025? Time to move to Github Apps</h1><h2 class=subtitle>Avoiding PATs and service accounts</h2><p>Posted on <time datetime=2025-06-01>1 June 2025</time>
<span class=icon><i class="fas fa-clock"></i></span> 9 min read</p><div class=tags><span class=icon><i class="fas fa-tags"></i></span>
<span class=tag>Github</span>
<span class=tag>Github Actions</span>
<span class=tag>cloud</span>
<span class=tag>devops</span></div></div></section><section class=section><div class="container is-max-desktop"><div class=content><p>If you&rsquo;re a developer using Github and working with CI/CD pipelines or custom tooling, chances are you’ve used Personal Access Tokens (PATs) to interact with GitHub. They’re simple and get the job done - but they also come with serious downsides: over-permissioned access, long-lived credentials, limited visibility, and no clear separation between user and automation; even if you are using a <em>service</em> user for your automation, there&rsquo;s still downsides to it.</p><p>The good news? GitHub Apps are now a mature alternative which is both safer and scalable. Designed specifically for automation, they provide fine-grained permissions, short-lived tokens, and a clear identity for your tooling — so your scripts and bots stop pretending to be you. Whether you&rsquo;re maintaining open source projects or deploying enterprise software, you can now move away from PATs and build your tooling on something better. Let&rsquo;s look at the reasoning and a simple example to show how to use Github Apps in CI/CD workflows!</p><div class=toc><nav id=TableOfContents><ul><li><a href=#personal-access-tokens-pats--github-apps>Personal Access Tokens (PATs) & Github Apps</a></li><li><a href=#using-github-apps---an-example>Using Github Apps - an example</a><ul><li><a href=#setting-up-the-github-app>Setting up the Github App</a></li><li><a href=#github-actions-environment-variables>Github Actions environment variables</a></li><li><a href=#github-workflow-using-a-github-app>Github workflow using a Github App</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#references>References</a></li></ul></nav></div><h2 id=personal-access-tokens-pats--github-apps>Personal Access Tokens (PATs) & Github Apps</h2><p>PATs are a way to authenticate to GitHub on behalf of a user, allowing access to the GitHub API or perform Git operations. They function like passwords and are tied directly to an user account. When used, a PAT grants access to the resources and repositories that the user has permissions for.</p><p>GitHub offers two types of PATs:</p><ul><li><p><strong>Classic PATs</strong> are the older option; they provide broad access to an user&rsquo;s account based on generic scopes. While easier to set up, it is harder or impossible to limit their access to specific repositories or permissions. Github organizations can block the usage of such tokens too, limiting their usage.</p></li><li><p><strong>Fine-Grained PATs</strong> are a more secure alternative, allowing their access to be limited to specific repositories and permissions.
Github organizations can limit, review and audit this type of token, increasing auditibility and visibility of their use.</p></li></ul><p>Even with the security improvements when using Fine-Grained PATs, both types are still tied to a user identity - meaning automation that uses
them to impersonate a person. Another concern is their token: long-lived and hard to rotate, a risk if it is leaked. A lot of improvements have been done
to PATs, but they are still difficult to scope precisely, to identify their ownership and trace their usage.</p><figure><img src=/articles/010625-using-github-apps/github-pat-classic.png alt="Setting up a classic PAT" width=auto><figcaption><p>Setting up a classic PAT</p></figcaption></figure><p>GitHub Apps are the alternative designed to provide a way of building integrations and automating workflows within the GitHub ecosystem. Unlike PATs,
GitHub Apps have their own identity and authenticate using short-lived tokens. This allows them to act as standalone entities with precisely scoped
permissions and limited access to repositories.
They can be installed from individual repositories, to entire organizations, and even across organizations, making them highly flexible for everything from CI/CD pipelines to custom bots and internal tools. They also provide better auditability, as all actions taken by the app are clearly logged as coming from the app itself and not an user.</p><p>GitHub Apps also offer significantly higher API rate limits compared to Personal Access Tokens.
While PATs are restricted to 5,000 requests per hour per user, GitHub Apps can make up to 15,000 requests per hour per installation. For GitHub Enterprise customers, this limit is even higher - 15,000 requests per repository per hour. This substantial increase in throughput is especially valuable in high-volume CI/CD environments, where automated processes can quickly hit API limits due to frequent builds, deployments, and status checks. Relying on PATs in such scenarios can lead to throttling, delays, and operational bottlenecks—issues that GitHub Apps are far better equipped to handle.</p><hr><table><thead><tr><th>Feature / Capability</th><th><strong>Classic PATs</strong></th><th><strong>Fine-Grained PATs</strong></th><th><strong>GitHub Apps</strong></th></tr></thead><tbody><tr><td><strong>Identity</strong></td><td>Tied to a user account</td><td>Tied to a user account</td><td>Independent app identity</td></tr><tr><td><strong>Permission Scope</strong></td><td>Broad scopes (e.g., <code>repo</code>, <code>admin:org</code>)</td><td>Narrow, repository or account specific, action-based scopes</td><td>Highly granular, repo/org-level per permission</td></tr><tr><td><strong>Token Lifetime</strong></td><td>Long-lived (optional expiration feature added)</td><td>Long-lived (with optional expiration)</td><td>Short-lived (1 hour) tokens</td></tr><tr><td><strong>Authentication Model</strong></td><td>Static token</td><td>Static token</td><td>JWT + short-lived access token</td></tr><tr><td><strong>Audit Clarity</strong></td><td>Appears as the user</td><td>Appears as the user</td><td>Clearly shown as app activity</td></tr><tr><td><strong>Repository Access Control</strong></td><td>All user-accessible repos</td><td>Specific repos chosen at token creation</td><td>Installable per repo or org</td></tr><tr><td><strong>API Rate Limit</strong></td><td>5,000 req/hr per user</td><td>5,000 req/hr per user</td><td>15,000 req/hr per app installation</td></tr><tr><td><strong>Token Rotation</strong></td><td>Manual</td><td>Manual</td><td>Automated / programmatic</td></tr><tr><td><strong>Risk of Overexposure</strong></td><td>High (broad, static access)</td><td>Medium (scoped but still user-based)</td><td>Low (scoped, short-lived, app-isolated)</td></tr><tr><td><strong>Recommended For</strong></td><td>Legacy scripts, simple tools</td><td>Manually controlled automation, limited scope</td><td>CI/CD, bots, secure integrations</td></tr><tr><td><strong>User Dependency</strong></td><td>Yes</td><td>Yes</td><td>No (user-independent)</td></tr></tbody></table><hr><h2 id=using-github-apps---an-example>Using Github Apps - an example</h2><p>For this example, we will look at a simple (but one of the most common!) use cases for using PATs:
committing changes to a repository.
We will be creating and running a Github workflow that uses a Github App to commit to a different repository.</p><p>To start, have a github user account, and create two repositories, for example:
<code>gitapp_source</code> and <code>gitapp_destination</code>. Make sure the destination repository has at least
one commit (so that <code>refs/heads/main</code> is present for this example to work).</p><h3 id=setting-up-the-github-app>Setting up the Github App</h3><ol><li><p><strong>Create a new Github App</strong></p><p>Let&rsquo;s start by creating a Github App. Go to your <a href=https://github.com/settings/apps>user Settings -> Under Developer Settings</a>
and under Github Apps, click <em>New Github App</em>.</p><div class="box has-background-info-dark has-text-info-light"><span class=icon-text><span class=icon><i class="fas fa-info-circle"></i>
</span></span>Github Apps can be owned by Users or Organizations. For Organization owned Apps, go to the
Organization Developer Settings instead. Organization Github Apps can have administrator users assigned!</div><p>Fill the mandatory fields <code>GitHub App name</code> and <code>Homepage URL</code>.
Disable the Webhook option for events, and under permissions, click Repository Permissions and toggle the Contents access to
Read and write; this will grant the Application full source code access in the repositories it gets installed to.</p><p>Scroll down and click Create Github App. You will be redirected to the newly create Github App&rsquo;s page.
Take note of the <strong>App ID</strong> number, we will need it later!</p></li><li><p><strong>Generate a Github App private key</strong></p><p>Now the application is created, we need to generate a <strong>Private key</strong>, used to <em>assume</em> the Github App.</p><p>In the Github App page, scroll down to the <code>Private Keys</code> section. Click Generate a new Private Key, and save it in a safe location.</p></li><li><p><strong>Installing the Github App</strong></p><p>Let&rsquo;s install our Github App in the destination repository.</p><p>On the left hand side, click on the Install App page, choose the account of the destination repository and click Install.</p><figure><img src=/articles/010625-using-github-apps/github-app-install.png alt="Installing a Github App" width=auto><figcaption><p>Installing a Github App</p></figcaption></figure><p>Github will now ask you which repositories you want to install the App; by default it installs for all repositories.
Following best practices, we select Only selected repositories, choose the previously created <strong>destination</strong>
repository and click Install. Notice the list the permissions that we are granting*.</p><figure><img src=/articles/010625-using-github-apps/github-app-select.png alt="Github App repository instalation" width=auto><figcaption><p>Github App repository instalation</p></figcaption></figure></li></ol><p>And we are done for the Github App! You should have the <em>App ID</em> and the generated <em>Private key</em> required for the next steps.</p><div class="box has-background-info-dark has-text-info-light"><span class=icon-text><span class=icon><i class="fas fa-info-circle"></i>
</span></span>*We can change the permissions an application requires any time after creation. Entities that have the app installed will be notified of the new requirements and have a choice to refuse or accept the new requirements.</div><h3 id=github-actions-environment-variables>Github Actions environment variables</h3><p>We will be assuming the Github App identity from the source repository to write into the destination repository.
Let&rsquo;s configure the Github Actions variables and secrets in the source repository with the required values.</p><ol><li><p>Under the source repository Settings, go to Secrets And Variables and click Actions.</p></li><li><p>In the Secrets tab, click New Repository Secret, set the name to <code>PRIVATE_KEY</code> and the
copy the content of the key file that you downloaded in the previous steps to the value field.</p></li><li><p>Click Add Secret.</p></li><li><p>Now go to the Variables tab and create the following repository variables:
Name: APP_ID
Value: the app id you saved in the previous steps (Example: <code>1394137</code>)</p><p>Name: TARGET_REPOSITORY
Value: the target repository name, in our example <code>gitapp_example_destination</code></p></li></ol><p>You should now have under Secrets tab the <code>PRIVATE_KEY</code>, and under the Variables tab <code>APP_ID</code> and <code>TARGET _REPOSITORY</code>.</p><p><img src=github-variables.png alt="Github Variables screenshot"></p><div class="box has-background-info-dark has-text-info-light"><span class=icon-text><span class=icon><i class="fas fa-info-circle"></i>
</span></span><strong>Secrets</strong> are designed to store sensitive data such as API keys, credentials, or tokens. They are encrypted, hidden after creation, and GitHub automatically redacts their values in logs to prevent accidental exposure. <strong>Variables</strong> are stored in plain text and are visible in the repository settings, making them unsuitable for confidential data.</div><h3 id=github-workflow-using-a-github-app>Github workflow using a Github App</h3><p>The only piece missing is the github action workflow! In the source repository, create and commit
the following workflow (.github/workflows/createCommit.yml).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Create file &amp; commit to another repo</span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>: <span style=color:#ae81ff>workflow_dispatch</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>create_and_build</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Create &amp; Save</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>            <span style=color:#75715e># Generate a temporary token for this run</span>
</span></span><span style=display:flex><span>            - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Generate token</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/create-github-app-token@v1.11.1</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>id</span>: <span style=color:#ae81ff>app-token</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>                <span style=color:#f92672>app-id</span>: <span style=color:#ae81ff>${{ vars.APP_ID }}</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>private-key</span>: <span style=color:#ae81ff>${{ secrets.PRIVATE_KEY }}</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>owner</span>: <span style=color:#ae81ff>${{ github.repository_owner }}</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>repositories</span>: <span style=color:#ae81ff>${{ vars.TARGET_REPOSITORY }}</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># Checkout the target repository </span>
</span></span><span style=display:flex><span>            - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Set/get environment from checkout</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v4</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>                <span style=color:#f92672>token</span>: <span style=color:#ae81ff>${{ steps.app-token.outputs.token }}</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>repository</span>: <span style=color:#ae81ff>${{ github.repository_owner }}/${{ vars.TARGET_REPOSITORY }} </span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>path</span>: <span style=color:#ae81ff>target_repo</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># Create file</span>
</span></span><span style=display:flex><span>            - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Push code</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                echo &#34;Hello from ${{ github.action_repository }} run ${{ github.run_id }}&#34; &gt; target_repo/hello.txt</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># Commit and Push</span>
</span></span><span style=display:flex><span>            - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Push code</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                cd target_repo
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                git config user.name github-actions
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                git config user.email github-actions@github.com
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                git add .
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                git commit -m &#34;Update run ${{ github.run_id }}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                git push</span>
</span></span></code></pre></div><p>Go to the actions -> workflows for the source repository and manually trigger a run:</p><p><img src=github-workflow.png alt="alt text"></p><p>Once the workflow finishes, you should see a new file in the destination repository!</p><hr><h2 id=conclusion>Conclusion</h2><p>GitHub Apps provide a secure, scalable, and modern alternative to Personal Access Tokens (PATs).
They authenticate with their own identities, and can be set up with granular and repository level permissions.
Their tokens are short-lived, and enable the Centralized revocation and rotation of credentials.
Because Apps can target only the repos that need them, blast radius shrinks dramatically compared with PATs that inherit a user’s full access.
And by tying automation to a dedicated app rather than individual employees, we can make our CI more resilient, avoiding risks and paying an extra
user license for every bot account.</p><p>Moreover a single GitHub App can be installed on dozens of repositories and organizations without multiplying credentials,
making it perfect for multi‑tenant SaaS integrations.
You can even list it on the GitHub Marketplace to reach new customers, something PATs can’t offer.</p><p>Hopefully with this example you understand Github Apps a bit better, and can take steps to make your platform more secure, manageable and built
to scale with your use cases.</p><h2 id=references>References</h2><ul><li><a href=https://docs.github.com/en/rest/using-the-rest-api/rate-limits-for-the-rest-api>API Rate Limits</a></li><li><a href=https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/authenticating-as-a-github-app>Authenticating as a Github App</a></li></ul></div></div></section></main><script data-goatcounter=https://bmterra.goatcounter.com/count async src=//gc.zgo.at/count.js></script><footer class=footer><div class="content has-text-centered"><p>2025 by Bruno Terra.<br>The website content is licensed
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0//>CC BY NC SA 4.0</a>.<br><br>Made with <a href=https://gohugo.io/>Hugo</a> and <a href=https://bulma.io/>Bulma</a>.</p></div></footer><p class="footer text-center"></p></body></html>