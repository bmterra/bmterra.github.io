<!doctype html><html lang=en_GB dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Budget Forecasting for Legacy Cloud deployments using Cost Explorer and AWS Pricing Calculator | Bruno Terra</title>
<link rel=stylesheet href=/css/bulma.min.min.651e706f1361f6bbae1dd519d339c5f9caa6a8edf31056a77ae20145c75f86af.css integrity="sha256-ZR5wbxNh9ruuHdUZ0znF+cqmqO3zEFaneuIBRcdfhq8=" crossorigin=anonymous><script src=/js/fontawesome-6.7.2-all.18b98204fb0d34e1dd47d32538ed0da505f56a7cb6873390f0cbe95197009b34.js integrity="sha256-GLmCBPsNNOHdR9MlOO0NpQX1any2hzOQ8MvpUZcAmzQ=" crossorigin=anonymous></script><script src=/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><script src=/js/nav_menu.b84697a3bcfd899e9eca1d28f9d78ed717caf88b38e749b1b4c9c9ac591fc0aa.js integrity="sha256-uEaXo7z9iZ6eyh0o+deO1xfK+Is450mxtMnJrFkfwKo=" crossorigin=anonymous></script><script src=/js/theme_toggle.e474edddeef001dcc179298fab5a0b9e5e1806535a9b5c8b1db521a799171f85.js integrity="sha256-5HTt3e7wAdzBeSmPq1oLnl4YBlNam1yLHbUhp5kXH4U=" crossorigin=anonymous></script></head><body><header><nav class=navbar aria-label="main navigation"><div class=navbar-brand><a class=navbar-item href=https://bmterra.eu/><img alt=avatar src=https://bmterra.eu/img/19397788.jpeg>
</a><a role=button class=navbar-burger aria-label=menu aria-expanded=false data-target=navMenu><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a></div><div class=navbar-menu id=navMenu><div class=navbar-item><a class=button href=/><span class=icon-text><span class=icon><i class="fas fa-home"></i></span>
<span>Home</span></span></a></div><div class=navbar-item><a class=button href=/articles/><span class=icon-text><span class=icon><i class="fas fa-newspaper"></i></span>
<span>Articles</span></span></a></div><div class=navbar-item><a class=button href=/projects/><span class=icon-text><span class=icon><i class="fas fa-gear"></i></span>
<span>Projects</span></span></a></div><div class=navbar-item><a class=button href=/notes/><span class=icon-text><span class=icon><i class="fas fa-file-text"></i></span>
<span>notes</span></span></a></div></div><div class=navbar-end><div class=navbar-item><a id=theme-toggle class="button is-light"><span class=icon><i class="fas fa-sun"></i></span></a></div></div></nav></header><main><section class=section><div class="container is-max-desktop"><figure class=image><img alt="splash image" src=/articles/010125-budgets/budget_forecasting.jpeg></figure></div></section><section class=section><div class="container is-max-desktop"><h1 class=title>Budget Forecasting for Legacy Cloud deployments using Cost Explorer and AWS Pricing Calculator</h1><h2 class=subtitle>Nothing screams new year like budgets and forecasts!</h2><p>Posted on <time datetime=2025-01-01>1 January 2025</time>
<span class=icon><i class="fas fa-clock"></i></span> 4 min read<div class=tags><span class=icon><i class="fas fa-tags"></i></span>
<span class=tag>aws</span>
<span class=tag>finops</span>
<span class=tag>cloud</span>
<span class=tag>devops</span></div></p></div></section><section class=section><div class="container is-max-desktop"><div class=content><p>If you handle Cloud Infrastructure, you invariably will find yourself needing to do cost forecasting - either for your whole infrastructure or for a specific service - to have data supporting a case or strategy.</p><h2 id=how-much-does-it-cost>How much does it cost?</h2><p>This is a regular question we get when managing AWS configurations; in an ideal world we would have our resources fully (and correctly) tagged as per recommended best practices but usually with an infrastructure mix of legacy services and acquired products in the organization, this isn&rsquo;t always true - or easy to achieve. This process is usually cumbersome and time consuming - maybe not all infrastructure is defined as IaC or, if it is, it won&rsquo;t be in the most manageable way, that would allow the team to easily add the needed tags.</p><p>While your team works thoroughly in the background importing resources, refactoring the IaC and implementing the newly defined tagging policy, this question comes along and now you have to estimate the cost of your AWS Organization and the impact of changes you have for next year.</p><h3 id=ok-so-how>Ok so, how&mldr;?</h3><p>Enter the AWS Cost Explorer tool, which is used to <em>analyze historical data, generate forecasts, and identify spending trends</em>, hopefully to make our life easier!</p><p>AWS Cost Explorer can provide a forecast, by predicting how much we will use AWS services over time based on the past usage patterns. For example, selecting 12 months, we get:</p><p><img src=costandusagegraph.jpg alt="AWS Forecast example"></p><h3 id=what-about-changes>What about changes?</h3><p>Of course this is assuming no drastic changes, but fortunately some of our services are marked for retirement/replacement during the next year, and the teams plan to do some usage optimization too.. To understand the impact of those plans in the infrastructure cost, and inform if a task prioritization review is needed to meet our budget goals, we can look at the current and future cost.</p><p>For example, by doing a filter by accounts for a particular service, we are able to estimate an average cost for the next year</p><p><img src=costandusagegraph2.jpg alt="12 month Cost estimation with account filtering accounts"></p><p>We know from previous months, that this particular application environment cost can be split equally between production and non-production environments. This will be useful for the following steps.</p><p>Next we need to look at cost optimization - for this example we took into consideration a couple of impactful database queries optimizations, which we expect will result in a mitigation of auto scaling events during peak times in this cluster.. and looking at the last months, we know the extra on-demand read instance costs on average $1254.87/month.</p><p>Similarly the teams are working on use cases migrations - for this example, we will use a migration of a legacy data store in Elastic Search to S3 - this will help reduce our infrastructure cost, with the deletion of this ES Cluster. Using the AWS Pricing Calculator, we can estimate how much it is costing, by looking at its configuration (instances, storage, etc).</p><p><img src=estimate.png alt="AWS Pricing Calculator - Legacy ElasticSearch Cluster
"></p><p>If we compile these numbers.. and propose these changes in the following quarters..</p><table><thead><tr><th>Initiative</th><th>Monthly Cost</th><th>Proposed Quarter (by the end of)</th></tr></thead><tbody><tr><td>Legacy Application #1 Non-Production</td><td>$2,210</td><td>Q1</td></tr><tr><td>Legacy Application #1 Production</td><td>$2,537</td><td>Q2</td></tr><tr><td>SQL Queries Optimization</td><td>$1,254.87</td><td>Q1</td></tr><tr><td>Legacy Elastic Search retirement</td><td>$6,670.56</td><td>Q2</td></tr><tr><td>Legacy Application #2</td><td>$6,944.13</td><td>Q3</td></tr></tbody></table><p>Now with the CSV data export from AWS Cost Explorer, the proposed changes and the help of our favorite spreadsheet tool, we can do some data import and calculations to draft the different costs and costs trends - and visualize the per month impact of the proposed plan:</p><p><img src=forecast.png alt="Plot of proposed changes impact"></p><hr><p>We can (and should) take other factors into consideration and adjust estimations - e.g. if a team is launching a new product/feature, we can make use of AWS Pricing Calculator, or a cost growth based on current metrics-cost, to estimate costs&mldr;</p><p>Hopefully you get the idea - Cost Explorer and AWS Pricing Calculator are great free tools to support these (and similar) exercises, even when your insight and tagging of the cloud infrastructure is less than perfect.</p><p>As for us, we will have improved tagging in place next year, and will be able to perform better cost monitoring and fine-grained estimations for prioritization and budgets.</p><h3 id=useful-references>Useful References</h3><ul><li><a href=https://aws.amazon.com/aws-cost-management/aws-cost-explorer/>https://aws.amazon.com/aws-cost-management/aws-cost-explorer/</a></li><li><a href=https://docs.aws.amazon.com/cost-management/latest/userguide/ce-forecast.html>https://docs.aws.amazon.com/cost-management/latest/userguide/ce-forecast.html</a></li><li><a href=https://docs.aws.amazon.com/pricing-calculator/latest/userguide/what-is-pricing-calculator.html>https://docs.aws.amazon.com/pricing-calculator/latest/userguide/what-is-pricing-calculator.html</a></li></ul></div></div></section></main><script data-goatcounter=https://bmterra.goatcounter.com/count async src=//gc.zgo.at/count.js></script><footer class=footer><div class="content has-text-centered"><p>2025 by Bruno Terra.<br>The website content is licensed
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0//>CC BY NC SA 4.0</a>.<br><br>Made with <a href=https://gohugo.io/>Hugo</a> and <a href=https://bulma.io/>Bulma</a>.</p></div></footer><p class="footer text-center"></p></body></html>